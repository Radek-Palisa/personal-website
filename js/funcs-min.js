!function(t,e){"use strict";function i(t,e){for(var i in e)t.setAttribute(i,e[i])}var s=function(){this.wrapperEl=".accordion",this.headersClass="accordion-trigger",this.foldersClass="accordion-content",this.speed=".5s",this.debouncer=null};s.prototype={init:function(){this.wrapper=e.querySelector(this.wrapperEl),this.controls=Array.prototype.slice.call(e.querySelectorAll("."+this.headersClass)),this.liner=e.createElement("div"),this.liner.className="liner",this.wrapper.insertBefore(this.liner,void 0),this.linerStyle=this.liner.style;var i=(this.controls[this.controls.length-1].offsetHeight+2*parseFloat(t.getComputedStyle(this.controls[this.controls.length-1]).getPropertyValue("margin-top").replace("px",""))+parseFloat(t.getComputedStyle(this.controls[this.controls.length-1]).getPropertyValue("margin-bottom").replace("px","")))/2+parseFloat(t.getComputedStyle(this.liner).getPropertyValue("top").replace("px",""))+4;this.linerHeightAdjust=i,this.getHeights(this.wrapper),this.setListeners(this.wrapper),this.linerStyle.transition="height "+this.speed},getHeights:function(e){for(var s,r,a,n,l=this,o=e.getElementsByClassName(l.foldersClass),h=o.length;h--;)(r=(s=o[h]).style).visibility="hidden",r.display="",r.transition="",s.style.maxHeight="none",i(s,{"data-sq_h":(a=s,n="height",parseFloat(t.getComputedStyle(a).getPropertyValue(n).replace("px","")))}),r.position="relative",r.visibility="visible","false"===s.getAttribute("aria-hidden")?s.style.maxHeight=s.getAttribute("data-sq_h")+"px":s.style.maxHeight=0,l.addTran(s);"false"!==o[o.length-1].getAttribute("aria-hidden")&&(l.linerStyle.height=e.offsetHeight-l.linerHeightAdjust+"px")},addTran:function(t){var e=this;setTimeout(function(){t.style.transition="all "+e.speed},100)},hideEl:function(t,e){var i=t.style;if(e){var s=parseFloat(this.linerStyle.height)-parseFloat(t.getAttribute("data-sq_h"));this.linerStyle.height=s+"px"}i.maxHeight=0,t.setAttribute("aria-hidden","true")},showEl:function(t,e){if(t.style.maxHeight=t.getAttribute("data-sq_h")+"px",e){var i=parseFloat(this.linerStyle.height)+parseFloat(t.getAttribute("data-sq_h"));this.linerStyle.height=i+"px"}t.setAttribute("aria-hidden","false")},clickHandler:function(t){var e=t.target;e.classList.contains(this.headersClass)||(e=e.parentNode),this.clickedEl=e,"true"!==e.getAttribute("aria-expanded")&&(this.controls.forEach(function(t){t.setAttribute("aria-expanded","false")}),this.toggle(e.nextElementSibling))},toggle:function(t){var e=t.getAttribute("id"),i=this.wrapper.querySelector('div[aria-hidden="false"]'),s=i.getAttribute("id");"sec4"===e?(this.hideEl(i,!0),this.showEl(t,!1)):"sec4"===s?(this.hideEl(i,!1),this.showEl(t,!0)):(this.hideEl(i,!0),this.showEl(t,!0)),this.clickedEl.setAttribute("aria-expanded","true")},setListeners:function(e){var i=this;i.controls.forEach(function(t){t.addEventListener("click",i.clickHandler.bind(i))}),t.addEventListener("resize",function(){clearTimeout(this.debouncer),this.debouncer=setTimeout(function(){i.getHeights(e)},50)});var s=Array.prototype.slice.call(e.querySelectorAll(".accordion-trigger"));e.addEventListener("keydown",function(t){var e=t.target,i=t.which.toString(),r=t.ctrlKey&&i.match(/33|34/);if(e.classList.contains("accordion-trigger")){if(i.match(/38|40/)||r){var a=s.indexOf(e),n=i.match(/34|40/)?1:-1,l=s.length;s[(a+l+n)%l].focus(),t.preventDefault()}else if(i.match(/35|36/)){switch(i){case"36":s[0].focus();break;case"35":s[s.length-1].focus()}t.preventDefault()}}else r&&panels.forEach(function(i,r){i.contains(e)&&(s[r].focus(),t.preventDefault())})})}},t.Accordion=s}(window,document),window.onload=function(){(new Accordion).init()};