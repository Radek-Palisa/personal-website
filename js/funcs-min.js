!function(t,e){"use strict";function i(t,e){for(var i in e)t.setAttribute(i,e[i])}var r=function(){this.wrapperEl=".accordion",this.itemClass="accordion-item",this.headersClass="accordion-trigger",this.foldersClass="accordion-content",this.speed=".5s",this.debouncer=null};r.prototype={init:function(){this.wrapper=e.querySelector(this.wrapperEl),this.outerWrapper=e.querySelector(".accordion-outer"),this.items=Array.prototype.slice.call(e.querySelectorAll("."+this.foldersClass)),this.itemHeights=[],this.controls=Array.prototype.slice.call(e.querySelectorAll("."+this.headersClass)),this.liner=e.createElement("div"),this.liner.className="liner",this.wrapper.insertBefore(this.liner,void 0),this.linerStyle=this.liner.style;var i=(this.controls[this.controls.length-1].offsetHeight+2*parseFloat(t.getComputedStyle(this.controls[this.controls.length-1]).getPropertyValue("margin-top").replace("px",""))+parseFloat(t.getComputedStyle(this.controls[this.controls.length-1]).getPropertyValue("margin-bottom").replace("px","")))/2+parseFloat(t.getComputedStyle(this.liner).getPropertyValue("top").replace("px",""))+4;this.linerHeightAdjust=i,this.getHeights(this.wrapper),this.setListeners(this.wrapper),this.linerStyle.transition="height "+this.speed},getHeights:function(e){for(var r,s,a,l,o=this,n=e.getElementsByClassName(o.foldersClass),h=n.length;h--;)(s=(r=n[h]).style).visibility="hidden",s.display="",s.transition="",r.style.maxHeight="none",i(r,{"data-sq_h":(a=r,l="height",parseFloat(t.getComputedStyle(a).getPropertyValue(l).replace("px","")))}),s.position="relative",s.visibility="visible","false"===r.getAttribute("aria-hidden")?r.style.maxHeight=r.getAttribute("data-sq_h")+"px":r.style.maxHeight=0,o.itemHeights.push(r.getAttribute("data-sq_h")),o.addTran(r);var c=o.itemHeights.reduce(function(t,e){return Math.max(t,e)}),d=0;o.controls.forEach(function(e){var i=e.offsetHeight+parseFloat(t.getComputedStyle(e).getPropertyValue("margin-top").replace("px",""))+parseFloat(t.getComputedStyle(e).getPropertyValue("margin-bottom").replace("px",""));d+=i}),o.outerWrapper.style.minHeight=d+c+5+"px",console.log(o.outerWrapper.style.minHeight),"false"!==n[n.length-1].getAttribute("aria-hidden")&&(o.linerStyle.height=e.offsetHeight-o.linerHeightAdjust+"px")},addTran:function(t){var e=this;setTimeout(function(){t.style.transition="all "+e.speed},100)},hideEl:function(t,e){var i=t.style;if(e){var r=parseFloat(this.linerStyle.height)-parseFloat(t.getAttribute("data-sq_h"));this.linerStyle.height=r+"px"}i.maxHeight=0,t.setAttribute("aria-hidden","true")},showEl:function(t,e){if(t.style.maxHeight=t.getAttribute("data-sq_h")+"px",e){var i=parseFloat(this.linerStyle.height)+parseFloat(t.getAttribute("data-sq_h"));this.linerStyle.height=i+"px"}t.setAttribute("aria-hidden","false")},clickHandler:function(t){var e=t.target;e.classList.contains(this.headersClass)||(e=e.parentNode),this.clickedEl=e,"true"!==e.getAttribute("aria-expanded")&&(this.controls.forEach(function(t){t.setAttribute("aria-expanded","false")}),this.toggle(e.nextElementSibling))},toggle:function(t){var e=t.getAttribute("id"),i=this.wrapper.querySelector('div[aria-hidden="false"]'),r=i.getAttribute("id");"sec4"===e?(this.hideEl(i,!0),this.showEl(t,!1)):"sec4"===r?(this.hideEl(i,!1),this.showEl(t,!0)):(this.hideEl(i,!0),this.showEl(t,!0)),this.clickedEl.setAttribute("aria-expanded","true")},setListeners:function(e){var i=this;i.controls.forEach(function(t){t.addEventListener("click",i.clickHandler.bind(i))}),t.addEventListener("resize",function(){clearTimeout(this.debouncer),this.debouncer=setTimeout(function(){i.itemHeights=[],i.getHeights(e)},50)});var r=Array.prototype.slice.call(e.querySelectorAll(".accordion-trigger"));e.addEventListener("keydown",function(t){var e=t.target,i=t.which.toString(),s=t.ctrlKey&&i.match(/33|34/);if(e.classList.contains("accordion-trigger")){if(i.match(/38|40/)||s){var a=r.indexOf(e),l=i.match(/34|40/)?1:-1,o=r.length;r[(a+o+l)%o].focus(),t.preventDefault()}else if(i.match(/35|36/)){switch(i){case"36":r[0].focus();break;case"35":r[r.length-1].focus()}t.preventDefault()}}else s&&panels.forEach(function(i,s){i.contains(e)&&(r[s].focus(),t.preventDefault())})})}},t.Accordion=r}(window,document),window.onload=function(){(new Accordion).init()};