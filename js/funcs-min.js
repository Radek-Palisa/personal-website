!function(i,e){function r(t,e){return parseFloat(i.getComputedStyle(t).getPropertyValue(e).replace("px",""))}var t=function(){this.wrapperEl=".accordion",this.outerWrapperClass="accordion-outer",this.itemClass="accordion-item",this.headersClass="accordion-trigger",this.panelsClass="accordion-content",this.linerClass="liner",this.speed=".5s"};t.prototype={init:function(){this.outerWrapper=e.querySelector("."+this.outerWrapperClass),this.wrapper=e.querySelector(this.wrapperEl),this.items=Array.prototype.slice.call(e.querySelectorAll("."+this.panelsClass)),this.controls=Array.prototype.slice.call(e.querySelectorAll("."+this.headersClass)),this.panels=Array.prototype.slice.call(e.querySelectorAll("."+this.panelsClass)),this.itemHeights=[],this.debouncer=null,this.outerWrapper.classList+=" "+this.outerWrapperClass+"-js",this.setAriaRoles(),this.liner=e.createElement("div"),this.liner.className=this.linerClass,this.wrapper.insertBefore(this.liner,void 0),this.linerStyle=this.liner.style;var t=(this.controls[this.controls.length-1].offsetHeight+2*r(this.controls[this.controls.length-1],"margin-top")+r(this.controls[this.controls.length-1],"margin-bottom"))/2+r(this.liner,"top")+4;this.linerHeightAdjust=t,this.linerStyle.transition="height "+this.speed,this.getHeights(),this.setListeners(this.wrapper)},setAriaRoles:function(){this.controls.forEach(function(t,e){t.setAttribute("aria-controls","sec"+(e+1)),t.setAttribute("id","ctrl"+(e+1)),0===e?(t.setAttribute("aria-expanded","true"),t.setAttribute("aria-disabled","true")):(t.setAttribute("aria-expanded","false"),t.setAttribute("aria-disabled","false"))}),this.panels.forEach(function(t,e){t.setAttribute("labelledby","ctrl"+(e+1)),t.setAttribute("id","sec"+(e+1)),t.setAttribute("role","region"),0===e?t.setAttribute("aria-hidden","false"):t.setAttribute("aria-hidden","true")})},getHeights:function(){var s=this;this.panels.forEach(function(t){var e=t.style;e.visibility="hidden",e.display="",e.transition="",e.maxHeight="none";var i=r(t,"height");t.setAttribute("data-height",i),s.itemHeights.push(i),e.position="relative",e.visibility="visible","false"===t.getAttribute("aria-hidden")?t.style.maxHeight=t.getAttribute("data-height")+"px":t.style.maxHeight=0,s.addTran(t)}),this.setMinHeight(),"false"!==this.panels[this.panels.length-1].getAttribute("aria-hidden")&&(this.linerStyle.height=this.wrapper.offsetHeight-this.linerHeightAdjust+"px")},createLiner:function(){},setMinHeight:function(){var t=this.itemHeights.reduce(function(t,e){return Math.max(t,e)}),i=0;this.controls.forEach(function(t){var e=t.offsetHeight+r(t,"margin-top")+r(t,"margin-bottom");i+=e}),this.outerWrapper.style.minHeight=i+t+5+"px"},addTran:function(t){var e=this;setTimeout(function(){t.style.transition="all "+e.speed},100)},hideEl:function(t,e){var i=t.style;if(e){var s=parseFloat(this.linerStyle.height)-parseFloat(t.getAttribute("data-height"));this.linerStyle.height=s+"px"}i.maxHeight=0,t.setAttribute("aria-hidden","true")},showEl:function(t,e){if(t.style.maxHeight=t.getAttribute("data-height")+"px",e){var i=parseFloat(this.linerStyle.height)+parseFloat(t.getAttribute("data-height"));this.linerStyle.height=i+"px"}t.setAttribute("aria-hidden","false")},clickHandler:function(t){var e=t.target;e.classList.contains(this.headersClass)||(e=e.parentNode),"true"!==(this.clickedEl=e).getAttribute("aria-expanded")&&(this.controls.forEach(function(t){t.setAttribute("aria-expanded","false"),t.setAttribute("aria-disabled","false")}),e.setAttribute("aria-disabled","true"),this.toggle(e.nextElementSibling))},toggle:function(t){var e=t.getAttribute("id"),i=this.wrapper.querySelector('div[aria-hidden="false"]'),s=i.getAttribute("id");"sec4"===e?(this.hideEl(i,!0),this.showEl(t,!1)):("sec4"===s?this.hideEl(i,!1):this.hideEl(i,!0),this.showEl(t,!0)),this.clickedEl.setAttribute("aria-expanded","true")},setListeners:function(t){var e=this;e.controls.forEach(function(t){t.addEventListener("click",e.clickHandler.bind(e))}),i.addEventListener("resize",function(){clearTimeout(this.debouncer),this.debouncer=setTimeout(function(){e.itemHeights=[],e.getHeights(t)},50)});var l=Array.prototype.slice.call(t.querySelectorAll(".accordion-trigger"));t.addEventListener("keydown",function(i){var s=i.target,t=i.which.toString(),e=i.ctrlKey&&t.match(/33|34/);if(s.classList.contains("accordion-trigger")){if(t.match(/38|40/)||e){var r=l.indexOf(s),a=t.match(/34|40/)?1:-1,n=l.length;l[(r+n+a)%n].focus(),i.preventDefault()}else if(t.match(/35|36/)){switch(t){case"36":l[0].focus();break;case"35":l[l.length-1].focus()}i.preventDefault()}}else e&&panels.forEach(function(t,e){t.contains(s)&&(l[e].focus(),i.preventDefault())})})}},i.Accordion=t}(window,document),window.onload=function(){(new Accordion).init()};