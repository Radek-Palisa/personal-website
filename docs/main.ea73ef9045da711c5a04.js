!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);i(1),i(2)},function(t,e,i){},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}var r=function(){function t(){i(this,t)}return n(t,[{key:"create",value:function(t){return this.el=document.createElement("div"),this.el.className=t.cssClass,t.container.insertBefore(this.el,void 0),this.calculateInitialHeightAdjustValue(t.lastControl),this}},{key:"calculateInitialHeightAdjustValue",value:function(t){this.initialHeightAdjustValue=(t.offsetHeight+2*l(t,"margin-top")+l(t,"margin-bottom"))/2+l(this.el,"top")+4}},{key:"adjustInitialHeightInRelationTo",value:function(t){this.el.style.height="".concat(t-this.initialHeightAdjustValue,"px")}},{key:"adjustCurrentHeightBy",value:function(t){this.el.style.height="".concat(parseFloat(this.el.style.height)+t,"px")}}]),t}(),s=function(){function t(e){i(this,t),this.outerWrapperClass=e.outerWrapperClass,this.wrapperClass=e.wrapperClass,this.itemClass=e.itemClass,this.headersClass=e.headersClass,this.panelsClass=e.panelsClass,this.trackerClass=e.trackerClass,this.transitionSpeed=e.speed,this.firstToBeExpanded=e.firstToBeExpanded,this.panelData=[]}return n(t,[{key:"init",value:function(){this.initPanelData(this.firstToBeExpanded),this.cacheDOMelements(),this.setControlIdentifiers(),this.outerWrapper.classList.add("".concat(this.outerWrapperClass,"-js")),this.tracker=(new r).create({cssClass:this.trackerClass,container:this.wrapper,lastControl:this.controls[this.controls.length-1]}),this.setHeights(),this.setListeners(),function(t,e){t.forEach((function(t,e){t.setAttribute("aria-controls","sec".concat(e+1)),t.setAttribute("id","ctrl".concat(e+1)),0===e?(t.setAttribute("aria-expanded","true"),t.setAttribute("aria-disabled","true")):(t.setAttribute("aria-expanded","false"),t.setAttribute("aria-disabled","false"))})),e.forEach((function(t,e){t.setAttribute("labelledby","ctrl".concat(e+1)),t.setAttribute("id","sec".concat(e+1)),t.setAttribute("role","region"),0===e?t.setAttribute("aria-hidden","false"):t.setAttribute("aria-hidden","true")}))}(this.controls,this.panelData.map((function(t){return t.el})))}},{key:"initPanelData",value:function(t){var e=this;Array.prototype.slice.call(document.querySelectorAll(".".concat(this.panelsClass))).forEach((function(i,a){var n={idx:a,el:i,isExpanded:!(!t||0!==a),height:null};e.panelData.push(n)}))}},{key:"cacheDOMelements",value:function(){this.outerWrapper=document.querySelector(".".concat(this.outerWrapperClass)),this.wrapper=document.querySelector(".".concat(this.wrapperClass)),this.controls=Array.prototype.slice.call(document.querySelectorAll(".".concat(this.headersClass)))}},{key:"setControlIdentifiers",value:function(){this.controls.forEach((function(t,e){t.setAttribute("data-id",e)}))}},{key:"setListeners",value:function(){var t,e,i,a,n=this;this.controls.forEach((function(t){t.addEventListener("click",n.handleClick.bind(n))})),window.addEventListener("resize",(t=this.setHeights,e=50,function(){var n=this,r=arguments,s=function(){a=null,i||t.apply(n,r)},o=i&&!a;clearTimeout(a),a=setTimeout(s,e),o&&t.apply(n,r)}).bind(this)),this.wrapper.addEventListener("keydown",(function(){!function(t,e){var i=t.target,a=t.which.toString(),n=t.ctrlKey&&a.match(/33|34/);if(i.classList.contains("accordion-trigger")){if(a.match(/38|40/)||n){var r=e.indexOf(i),s=a.match(/34|40/)?1:-1,o=e.length;e[(r+o+s)%o].focus(),t.preventDefault()}else if(a.match(/35|36/)){switch(a){case"36":e[0].focus();break;case"35":e[e.length-1].focus()}t.preventDefault()}}else n&&panels.forEach((function(a,n){a.contains(i)&&(e[n].focus(),t.preventDefault())}))}(event,n.controls)}))}},{key:"setHeights",value:function(){var t=this;this.tracker.el.style.transition="none",this.panelData.forEach((function(e){var i=e.el.style;i.transition="none",e.height=e.el.firstElementChild.offsetHeight,i.height=e.isExpanded?"".concat(e.height,"px"):0,o(e.el,"height",t.transitionSpeed)})),this.outerWrapper.style.minHeight="\n            ".concat(this.panelData.map((function(t){return t.height})).reduce((function(t,e){return Math.max(t,e)}))+this.controls.map((function(t){return(e=t).offsetHeight+l(e,"margin-top")+l(e,"margin-bottom");var e})).reduce((function(t,e){return t+e}))+5,"px \n        "),!1===this.panelData[this.panelData.length-1].isExpanded&&this.tracker.adjustInitialHeightInRelationTo(this.wrapper.offsetHeight),o(this.tracker.el,"height",this.transitionSpeed)}},{key:"handleClick",value:function(t){var e=t.target.classList.contains(this.headersClass)?t.target:t.target.parentNode,i=parseFloat(e.getAttribute("data-id"));if(!0!==this.panelData[i].isExpanded){var a=this.panelData.filter((function(t){return!0===t.isExpanded}))[0],n=a.height,r=this.panelData[i],s=r.height;!function(t,e){t.el.style.height=0,e.el.style.height="".concat(e.height,"px")}(a,r),i===this.panelData.length-1?this.tracker.adjustCurrentHeightBy(-n):a.idx===this.panelData.length-1?this.tracker.adjustCurrentHeightBy(+s):(this.tracker.adjustCurrentHeightBy(-n),this.tracker.adjustCurrentHeightBy(+s)),function(t,e,i,a){t[i.idx].setAttribute("aria-expanded","false"),t[i.idx].setAttribute("aria-disabled","false"),e.setAttribute("aria-disabled","true"),e.setAttribute("aria-expanded","true"),i.el.setAttribute("aria-hidden","true"),a.el.setAttribute("aria-hidden","false")}(this.controls,e,a,r),r.isExpanded=!0,a.isExpanded=!1}}}]),t}();function o(t,e,i){setTimeout((function(){t.style.transition="".concat(e," ").concat(i,"ms")}),i)}function l(t,e){return parseFloat(window.getComputedStyle(t).getPropertyValue(e).replace("px",""))}window.onload=function(){new s({wrapperClass:"accordion",outerWrapperClass:"accordion-outer",itemClass:"accordion-item",headersClass:"accordion-trigger",panelsClass:"accordion-content",trackerClass:"tracker",speed:"500",firstToBeExpanded:!0}).init()}}]);